# TODO

completely replace photos-backend (python) with this:

1. ✅ Make python server with endpoints for:
    * ✅ batch generate thumbnails
    * ✅ process single image to json data
2. Make tables (migrations) in loco for all data generated by process single image
   * make frame_data migrations with all sub tables
   * make image_data migration with data_url, width/height/format etc.
   * finish it
   * challenge: enable pgvecto-rs extension and create the vector columns and indices (probably just raw sql it)
3. Make worker job:
    * check for unprocessed photos etc. ->
    * generate all thumbs for them ->
    * run a new job to process a new photo and put in db
4. after processing photos per user:
    * run recluster worker job
    * clean up dangling thumbnails, db entries, etc.
    * fill timezone gaps
5. add something like watchdog for rust, watch for new files in directory https://docs.rs/notify/latest/notify/
6. add random image + theme endpoint
7. add endpoint to get images by month range
8. make worker job to cluster images